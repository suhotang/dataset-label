(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{21:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var i,r,l=n(0),c=n.n(l),o=n(13),a=n.n(o),s=(n(21),n(2)),b=n(4),u=n(5),f="#EBEDF2",d="#FCFCFC",j="#5668D9",p="#D5D9E2",x=["title","titleId"];function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},l=Object.keys(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function h(e,t){var n=e.title,c=e.titleId,o=g(e,x);return l.createElement("svg",O({xmlns:"http://www.w3.org/2000/svg",width:40,height:40,viewBox:"0 0 40 40",ref:t,"aria-labelledby":c},o),n?l.createElement("title",{id:c},n):null,i||(i=l.createElement("defs",null,l.createElement("style",null,".a,.b{fill:none;}.b{stroke:#424868;stroke-width:2px;}.c{stroke:none;}"))),r||(r=l.createElement("g",{transform:"translate(-248 -424)"},l.createElement("rect",{className:"a",width:40,height:40,transform:"translate(248 424)"}),l.createElement("g",{className:"b",transform:"translate(260 436)"},l.createElement("rect",{className:"c",width:16,height:16}),l.createElement("rect",{className:"a",x:1,y:1,width:14,height:14})))))}var m,v,y,w=l.forwardRef(h),C=(n.p,["title","titleId"]);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function B(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},l=Object.keys(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function L(e,t){var n=e.title,i=e.titleId,r=B(e,C);return l.createElement("svg",E({xmlns:"http://www.w3.org/2000/svg",width:40,height:40,viewBox:"0 0 40 40",ref:t,"aria-labelledby":i},r),n?l.createElement("title",{id:i},n):null,m||(m=l.createElement("defs",null,l.createElement("style",null,".a{fill:none;}.b{fill:#424868;}"))),v||(v=l.createElement("rect",{className:"a",width:40,height:40})),y||(y=l.createElement("path",{className:"b",d:"M8,0l8,19.237L8,16.344,0,19.237Z",transform:"translate(6 13) rotate(-30)"})))}var k,S,X,Y,P,D,N,R=l.forwardRef(L),T=(n.p,n(6)),F=n(3),I=n(1),M=u.a.div(k||(k=Object(b.a)(["\n  flex: 1;\n  height: 100%;\n  overflow: hidden;\n"]))),z=u.a.div(S||(S=Object(b.a)(["\n  position: relative;\n  display: inline-block;\n  overflow: hidden;\n"]))),U=u.a.div(X||(X=Object(b.a)(["\n  position: absolute;\n  border: 3px solid ",";\n  cursor: move;\n  touch-action: none;\n"])),j),J={startClientX:0,startClientY:0,labelBoxPositionX:0,labelBoxPositionY:0,xDiff:0,yDiff:0};function Z(e){var t=e.labelBoxList,n=e.setLabelBoxList,i=e.imageUrl,r=Object(l.useRef)(),c=Object(l.useRef)(),o=Object(l.useState)(!1),a=Object(s.a)(o,2),b=a[0],u=a[1],f=Object(l.useState)(!1),d=Object(s.a)(f,2),j=d[0],p=d[1],x=Object(l.useState)(Object(F.a)({},J)),O=Object(s.a)(x,2),g=O[0],h=O[1],m=function(e){u(e)},v=Object(l.useCallback)((function(e){if(b&&null!=c.current){var t=c.current.getBoundingClientRect(),n=e.clientX-t.left,i=e.clientY-t.top;h(Object(F.a)(Object(F.a)({},g),{},{labelBoxPositionX:n,labelBoxPositionY:i,xDiff:g.startClientX-n,yDiff:g.startClientY-i}))}}),[g,b]),y=Object(l.useCallback)((function(e){if(!(t.length>=5)&&b){if(null==c.current)return;var i=c.current.getBoundingClientRect(),r=e.clientX-i.left,l=e.clientY-i.top,o=E();m(!1),n([].concat(Object(T.a)(t),[{index:t.length,style:{top:o.top,left:o.left,width:Math.abs(r-o.left),height:Math.abs(l-o.top)}}])),h(Object(F.a)({},J))}}),[b,h]),w=Object(l.useCallback)((function(){j||null!=r.current&&(r.current.addEventListener("pointermove",v),r.current.addEventListener("pointerup",y),r.current.addEventListener("pointercancel",y),p(!0))}),[j,y,v]),C=Object(l.useCallback)((function(){j&&null!=r.current&&(r.current.removeEventListener("pointermove",v),r.current.removeEventListener("pointerup",y),r.current.removeEventListener("pointercancel",y),p(!1))}),[j,y,v]),E=function(){var e=g.startClientY,t=g.startClientX,n=Math.abs(g.xDiff),i=Math.abs(g.yDiff);return g.xDiff>0&&(t-=n),g.yDiff>0&&(e-=i),{top:e,left:t,width:n,height:i}};return Object(l.useEffect)((function(){b&&!j&&w(),!b&&j&&C()}),[g,b,j,w,C]),Object(I.jsx)(M,{children:Object(I.jsxs)(z,{ref:r,onPointerDown:function(e){return function(e){if(t.length>=5)alert("\ub77c\ubca8\ub9c1 \ubc15\uc2a4\ub294 \ucd5c\ub300 ".concat(5,"\uac1c\uae4c\uc9c0\ub9cc \uc0dd\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. "));else if(null!=c.current){r.current.focus({preventScroll:!0});var n=c.current.getBoundingClientRect(),i=e.clientX-n.left,l=e.clientY-n.top;h(Object(F.a)(Object(F.a)({},J),{},{startClientX:i,startClientY:l,labelBoxPositionX:i,labelBoxPositionY:l})),m(!0)}}(e)},children:[Object(I.jsx)("div",{ref:c,style:{display:"inline-block",width:"fit-content",height:"fit-content"},children:Object(I.jsx)("img",{draggable:!1,src:i,alt:"labeling-img"})}),b&&Object(I.jsx)(U,{style:E()})]})})}var q,A,G,H,K,Q=u.a.div(Y||(Y=Object(b.a)(["\n  flex: 1;\n  height: 100%;\n  overflow: hidden;\n"]))),V=u.a.div(P||(P=Object(b.a)(["\n  position: relative;\n  display: inline-block;\n  overflow: hidden;\n"]))),W=u.a.div(D||(D=Object(b.a)(["\n  position: absolute;\n  border: 3px solid ",";\n  cursor: move;\n  touch-action: none;\n"])),j),$=u.a.div(N||(N=Object(b.a)(["\n  position: absolute;\n  width: 16px;\n  height: 16px;\n  box-sizing: border-box;\n  border: 3px solid ",";\n  background: white;\n"])),j),_={originX:0,originY:0,startClientX:0,startClientY:0,labelBoxPositionX:0,labelBoxPositionY:0,xDiff:0,yDiff:0};function ee(e){var t=e.labelBoxList,n=void 0===t?[]:t,i=e.setLabelBoxList,r=e.imageUrl,c=Object(l.useCallback)((function(e,t,i,r,l){if(0===t||0===i)return n;var c=t+r,o=i+l;return n.map((function(t){return t.index===e?{index:e,style:Object(F.a)(Object(F.a)({},t.style),{},{top:c,left:o})}:t}))}),[n]),o=Object(l.useRef)(),a=Object(l.useRef)(),b=Object(l.useState)(!1),u=Object(s.a)(b,2),f=u[0],d=u[1],j=Object(l.useState)(Object(F.a)({},_)),p=Object(s.a)(j,2),x=p[0],O=p[1],g=Object(l.useState)([]),h=Object(s.a)(g,2),m=h[0],v=h[1],y=function(e,t,n,i,r,c,o){var a=Object(l.useState)([0,0]),b=Object(s.a)(a,2),u=b[0],f=b[1];return Object(l.useEffect)((function(){if(null!=e.current){var l=function(e){var l=e.clientX,a=e.clientY;if(n&&null!=t.current){var s=l,b=a;f([s,b]);var u=t.current.getBoundingClientRect(),d=s-u.left,j=b-u.top,p=r(i.index,i.originY,i.originX,j-i.startClientY,d-i.startClientX);c(Object(T.a)(p)),o(Object(F.a)(Object(F.a)({},i),{},{labelBoxPositionX:d,labelBoxPositionY:j,xDiff:i.startClientX-d,yDiff:i.startClientY-j}))}};return document.addEventListener("pointermove",l),function(){document.removeEventListener("pointermove",l)}}}),[r,t,i,e,n,o,c]),u}(o,a,f,x,c,i,O),w=Object(s.a)(y,2),C=(w[0],w[1],function(e,t){var n=Object(l.useState)([0,0]),i=Object(s.a)(n,2),r=i[0],c=i[1];return Object(l.useEffect)((function(){if(null!=e.current){var n=function(e){var n=e.clientX,i=e.clientY;t&&c([n,i])};return document.addEventListener("pointerup",n),function(){document.removeEventListener("pointerup",n)}}}),[t,e]),r}(o,f)),E=Object(s.a)(C,2),B=E[0],L=E[1],k=function(e){d(e)};return Object(l.useEffect)((function(){f&&(O(Object(F.a)({},_)),k(!1))}),[B,L]),Object(I.jsx)(Q,{children:Object(I.jsxs)(V,{ref:o,children:[Object(I.jsx)("div",{ref:a,style:{display:"inline-block",width:"fit-content",height:"fit-content"},children:Object(I.jsx)("img",{draggable:!1,src:r,alt:"labeling-img"})}),n.map((function(e){var t=e.index,i=e.style,r=m.includes(t);return Object(I.jsx)(W,{id:t,style:i,onPointerDown:function(e){return function(e,t){if(!m.includes(e)){var i=[].concat(Object(T.a)(m),[e]);v(i)}if(null!=a.current){o.current.focus({preventScroll:!0});var r=a.current.getBoundingClientRect(),l=t.clientX-r.left,c=t.clientY-r.top;O(Object(F.a)(Object(F.a)({},_),{},{originX:n[e].style.left,originY:n[e].style.top,startClientX:l,startClientY:c,labelBoxPositionX:l,labelBoxPositionY:c,index:e})),k(!0)}}(t,e)},children:r&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)($,{className:"leftTop",style:{top:0,left:0,marginLeft:"-10px",marginTop:"-10px"}}),Object(I.jsx)($,{className:"rightTop",style:{top:0,right:0,marginRight:"-10px",marginTop:"-10px"}}),Object(I.jsx)($,{className:"leftBottom",style:{bottom:0,left:0,marginLeft:"-10px",marginBottom:"-10px"}}),Object(I.jsx)($,{className:"rightBottom",style:{bottom:0,right:0,marginRight:"-10px",marginBottom:"-10px"}}),Object(I.jsx)($,{className:"topCenter",style:{top:0,left:0,marginLeft:"-10px",marginTop:"-10px"}}),Object(I.jsx)($,{className:"bottomCenter",style:{top:0,left:0,marginLeft:"-10px",marginTop:"-10px"}}),Object(I.jsx)($,{className:"leftCenter",style:{top:0,left:0,marginLeft:"-10px",marginTop:"-10px"}}),Object(I.jsx)($,{className:"rightCenter",style:{top:0,left:0,marginLeft:"-10px",marginTop:"-10px"}})]})})}))]})})}var te=u.a.section(q||(q=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100vw;\n  height: 100vh;\n  background: white;\n  padding: 0;\n  margin: 0;\n"]))),ne=u.a.header(A||(A=Object(b.a)(["\n  display: flex;\n  flex: 0 0 64px;\n  width: 100%;\n  height: 64px;\n  box-sizing: border-box;\n  border: 1px solid ",";\n  padding: 21px 0 16px 56px;\n  background: ",";\n"])),f,d),ie=u.a.div(G||(G=Object(b.a)(["\n  display: flex;\n  flex: 1;\n  width: 100%;\n"]))),re=u.a.nav(H||(H=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 56px;\n  height: 100%;\n  flex: 0 0 56px;\n  align-items: center;\n  box-sizing: border-box;\n  border: 1px solid ",";\n  border-top: none;\n  background: ",";\n"])),f,d),le=u.a.button(K||(K=Object(b.a)(["\n  display: flex;\n  width: 40px;\n  height: 40px;\n  justify-content: center;\n  align-items: center;\n  box-sizing: border-box;\n  background: ",";\n  border: none;\n  border-radius: 8px;\n  margin: 8px;\n  &:hover {\n    background: ",";\n  }\n  svg {\n    path {\n      fill: ",";\n    }\n  }\n"])),(function(e){return e.isSelected?p:"transparent"}),p,(function(e){return e.isSelected?"#424868":"none"})),ce=1,oe=2;function ae(){Object(l.useEffect)((function(){fetch("https://jsonplaceholder.typicode.com/photos").then((function(e){return e.json()})).then((function(e){var t,n=null===(t=e[10])||void 0===t?void 0:t.url;d(n)})).catch((function(e){console.log(e)}))}),[]);var e=Object(l.useState)([]),t=Object(s.a)(e,2),n=t[0],i=t[1],r=Object(l.useState)(1),c=Object(s.a)(r,2),o=c[0],a=c[1],b=Object(l.useState)(null),u=Object(s.a)(b,2),f=u[0],d=u[1],j=Object(l.useCallback)((function(e){a(e)}),[]),p=function(e){i(e)};return Object(I.jsxs)(te,{children:[Object(I.jsx)(ne,{children:"Dataset Label"}),Object(I.jsxs)(ie,{children:[Object(I.jsxs)(re,{children:[Object(I.jsx)(le,{isSelected:o===ce,onClick:function(){return j(ce)},children:Object(I.jsx)(R,{})}),Object(I.jsx)(le,{isSelected:o===oe,onClick:function(){return j(oe)},children:Object(I.jsx)(w,{})})]}),o===ce?Object(I.jsx)(Z,{labelBoxList:n,setLabelBoxList:p,imageUrl:f}):Object(I.jsx)(ee,{labelBoxList:n,setLabelBoxList:p,imageUrl:f})]})]})}var se=function(){return Object(I.jsx)(ae,{})},be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,28)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,l=t.getLCP,c=t.getTTFB;n(e),i(e),r(e),l(e),c(e)}))};a.a.render(Object(I.jsx)(c.a.StrictMode,{children:Object(I.jsx)(se,{})}),document.getElementById("root")),be()}},[[27,1,2]]]);
//# sourceMappingURL=main.e4b3af2c.chunk.js.map